{"version":3,"sources":["assets\\Script\\Managers\\GameManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAyC,+BAAY;IAArD;QAAA,qEAuDC;QApDG,cAAQ,GAAa,IAAI,CAAC;QAC1B,aAAO,GAAW,EAAE,CAAC;QACrB,gBAAU,GAAW,EAAE,CAAC;QACxB,6BAA6B;QAE7B,gBAAU,GAAW,CAAC,CAAC;;IA+C3B,CAAC;IA7CG,gCAAU,GAAV;QACI,IAAI,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/B,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE,UAAC,GAAG,EAAE,GAAG;YACvC,IAAG,GAAG;gBAAE,OAAO;YACf,IAAG,CAAC,CAAC,GAAG,YAAY,EAAE,CAAC,MAAM,CAAC;gBAAE,OAAO;YACvC,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACjC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6BAAO,GAAP,UAAQ,GAAW,EAAE,CAAS;QAC1B,IAAI,MAAM,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;QACxB,OAAM,GAAG,GAAG,CAAC,EAAE;YACX,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC;YACtB,GAAG,EAAE,CAAC;SACT;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,4BAAM,GAAN;QAAA,iBAwBC;QAvBG,aAAa;QACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE;YACnC,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QACD,OAAO;QACP,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,WAAW,CAAC;YACR,IAAI,KAAI,CAAC,QAAQ,IAAI,IAAI;gBAAE,OAAO;YAClC,IAAI,OAAO,IAAI,EAAE,EAAE;gBACf,OAAO,GAAG,CAAC,CAAC;gBACZ,OAAO,EAAE,CAAC;aACb;iBAAM;gBACH,OAAO,EAAE,CAAC;aACb;YACD,KAAI,CAAC,UAAU,GAAG,OAAO,GAAG,EAAE,GAAG,OAAO,CAAC;YACzC,KAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAA;YACjF,IAAG,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,UAAU,EAAE;gBAC/B,KAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAI,CAAC,OAAO,IAAI,CAAC,CAAC;aACrB;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IAEb,CAAC;IAnDD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACO;IAHT,WAAW;QAD/B,OAAO;OACa,WAAW,CAuD/B;IAAD,kBAAC;CAvDD,AAuDC,CAvDwC,EAAE,CAAC,SAAS,GAuDpD;kBAvDoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameManager extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    currTime: cc.Label = null;\r\n    ballNum: number = 20;\r\n    ballMaxNum: number = 50;\r\n    // prefabs: Array<cc.Prefab>;\r\n\r\n    maxSeconds: number = 0;\r\n\r\n    genePrefab() {\r\n        let canvas = cc.find(\"Canvas\");\r\n        cc.resources.load(\"Prefabs/ball\", (err, res) => {\r\n            if(err) return;\r\n            if(!(res instanceof cc.Prefab)) return;\r\n            let prefab = cc.instantiate(res);\r\n            canvas.addChild(prefab, 0);\r\n        });\r\n    }\r\n\r\n    padLeft(num: number, n: number): string {\r\n        let strNum = num.toString();\r\n        let len = strNum.length;\r\n        while(len < n) {\r\n            strNum = \"0\" + strNum;\r\n            len++;\r\n        }\r\n        return strNum;\r\n    }\r\n\r\n    onLoad() {\r\n        // 先生成一定数量的小球\r\n        for (let i = 0; i < this.ballNum; i++) {\r\n            this.genePrefab();\r\n        }\r\n        // 设置标签\r\n        let seconds = 0;\r\n        let minutes = 0;\r\n        setInterval(() => {\r\n            if (this.currTime == null) return;\r\n            if (seconds == 59) {\r\n                seconds = 0;\r\n                minutes++;\r\n            } else {\r\n                seconds++;\r\n            }\r\n            this.maxSeconds = minutes * 60 + seconds;\r\n            this.currTime.string = this.padLeft(minutes, 2) + \": \" + this.padLeft(seconds, 2)\r\n            if(this.ballNum < this.ballMaxNum) {\r\n                this.genePrefab();\r\n                this.ballNum += 1;\r\n            }\r\n        }, 1000);\r\n        \r\n    }\r\n}\r\n"]}