{"version":3,"sources":["assets\\Script\\Rock\\RockerCore.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0CAAqC;AAE/B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAY;IAApD;QAAA,qEA4CC;QAzCG,YAAM,GAAW,IAAI,CAAC;QAEtB,OAAO;QACP,iBAAW,GAAW,GAAG,CAAC;QAC1B,eAAS,GAAW,IAAI,CAAC;QACzB,cAAQ,GAAW,IAAI,CAAC;QACxB,UAAI,GAAW,CAAC,CAAC;;IAmCrB,CAAC;IAjCG,2BAAM,GAAN,UAAQ,EAAE;QACN,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE;YACtC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC;YAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC;SAC9C;aAAM;YACH,YAAY;YACZ,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAC3D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC;aACnC;YACD,aAAa;iBACR,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;gBAC/D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC;aACnC;iBAAM;gBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;aACtE;YAED,WAAW;YACX,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC3D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC;aACnC;YACD,cAAc;iBACT,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACjE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC;aACnC;iBAAM;gBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;aACtE;SACJ;IACL,CAAC;IAvCD;QADC,QAAQ,CAAC,gBAAM,CAAC;8CACK;IAHL,UAAU;QAD9B,OAAO;OACa,UAAU,CA4C9B;IAAD,iBAAC;CA5CD,AA4CC,CA5CuC,EAAE,CAAC,SAAS,GA4CnD;kBA5CoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import Player from '../Roles/Player';\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RockerCore extends cc.Component {\r\n\r\n    @property(Player)\r\n    player: Player = null;\r\n\r\n    // 衰减系数\r\n    decayFactor: number = 0.3;\r\n    maxHeight: number = 1600;\r\n    maxWidth: number = 2880;\r\n    step: number = 2;\r\n    \r\n    update (dt) {\r\n        if (this.node.x == 0 && this.node.y == 0) {\r\n            this.player.velocity.x *= this.decayFactor;\r\n            this.player.velocity.y *= this.decayFactor;\r\n        } else {\r\n            // left side\r\n            if (this.player.node.x - this.player.raduis <= -this.maxWidth) {\r\n                this.player.velocity.x = 0;\r\n                this.player.node.x += this.step;\r\n            }\r\n            // right side\r\n            else if (this.player.node.x + this.player.raduis >= this.maxWidth) {\r\n                this.player.velocity.x = 0;\r\n                this.player.node.x -= this.step;\r\n            } else {\r\n                this.player.velocity.x = this.node.x * this.player.speedLimitFator;\r\n            }\r\n\r\n            // top side\r\n            if (this.player.node.y + this.player.raduis >= this.maxHeight) {\r\n                this.player.velocity.y = 0;\r\n                this.player.node.y -= this.step;\r\n            } \r\n            // bottom side\r\n            else if (this.player.node.y - this.player.raduis <= -this.maxHeight) {\r\n                this.player.velocity.y = 0;\r\n                this.player.node.y += this.step;\r\n            } else {\r\n                this.player.velocity.y = this.node.y * this.player.speedLimitFator;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n"]}